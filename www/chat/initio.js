var zet;
var aa11;
var versapp = 0;
var asco;
var timasco = 0;
var delayweel = 0;
var delayact;
var petith = 0;
var sidem = 0;
var exlist = 0;
var listoh = 30;

var oldapp = 0;
var noswipe = 0;
var mypremiumtime = 0;
var hista;
var histu = 0;
var rady = 0;
var camroom;
var denis = false;
var joko = 1;
var tayo = 0;
var base;
var onthelist = false;
var quinte = true;
var mutemic = false;
var dejapasse;
var lastmic = 9000000;
var redemp = 0;
var camid = "";
var micid = "";
var loki = "";
var totu = "";
var presso = 25;
var microok = false;
var mini = 0;
var stopmini;
var evento, miniwak;
var agemax = 99;
var deluxe, saloo;
var allmess = "";
var messtab = new Array();
var y = -8;
var lastenvoi = -2000;
var yfont = -1;
var lastkey = 0;
var smilh = new Array();
smilh[19] = 12;
smilh[11] = 15;
var testpreview = false;
var doc = [];
var infoop = -1;
var oldinfoop = -1;
var popup;
var testix = 0;
var messo;
var speco = 0;
var speca = 10000;
var lastplaint = -600;
var filtram = "Filtre";
var config = "a";

var mytime = 0;
var neutri = 0;
var myblog = "";
var blogref;
var larzone, kbona, kbtim, lastpol;
var poptel;
var blocamec = false;
var ecritum = 0;
var shield = "<div " + bleu + " onmousedown=this.innerHTML='&#9824;' style='position:absolute;font-size:16px;left:1px;top:-4px;font-family:courier new;height:16px;width:15px;z-index:60;'>&#9829;</div>&nbsp;";
var nofox = true;
var brows = "FF";
var OS = "Windows";
var kelserv = 3;

var dextrop = 0;
var warna = "hidden";
var warni = "";
var lesbo, flashy;
var selecol = "";
var todo = "";
var listam = "";
var aqui;
var rechrech = false;
var checkav = false;
var privato = false;
var extclose, extcloset;
var ecritl, ecrith;
var touchy = "touch-action:pan-y;";
var hpff = "";
var ie6 = false;
var ie4 = false;
var ieall = false;
var chrome = false;
var opto = new Array();
var start1 = "onmousedown";
var end1 = "onmouseup";
var coulsa = "ae9484";
var coultop = "ae9484";
var groundy = "#c5b1a7";

var strima = new Array("551","551","551","551","551");
var voxeus = false;
var govox;
var mygain = 60;
var oldgain = 0;

var agento = navigator.userAgent;
var lowagent = navigator.userAgent.toLowerCase();
var loxx = "location=yes,toolbar=no";

var safari = false;
var speedo = 0;

if (agento.indexOf("hrome") > -1) {
    var sst = agento.indexOf("hrome");

    chrome = true;
    loxx = "location=no,toolbar=no";
}

var plaint;
var plainta;
var sendito = "";

var roulix = 0;
var roulax = new Array();
var roulux = new Array();
var autox = 0;
var hzq = 0;
var mymail = "";

var stux = "";
var mysms, nbsms;

var myport;
var muti = false;

var noman = false;
var fullopen = true;
var shielda;
var insolente = false;

var mem = new Array();
var mem0 = 0;

var pluso = "<span onclick=histo(); " + onmousa('aaaaaa', 'cccccc') + " style='color:#00000;margin-left:50px;font-weight:bold;padding-top:7;background-color:#cccccc;'>&nbsp;^^^&nbsp;</span><br>";

var manu = "style='cursor:pointer;'";

var servideo;
var vidarray = new Array("62.210.198.99","62.210.198.99","94.23.213.192","94.23.213.192","95.211.153.95","95.211.153.95","87.98.168.15");

var soundip = "164.132.219.137";
//var soundip="149.202.31.184";

var cam6 = "'); " + manu + " src=emot/webcam.gif >";
var cam7 = "'); " + manu + " src=emot/webcam333.gif >";

var cam8 = "<img onclick=opux('";

var cam2 = "','webcam";
var cam3 = "','status=yes," + loxx + ",scrollbars=no,resizable=yes,width=200,height=200\'); " + manu + " src=emot/webcam.gif >";
var myautre = "";
var lastimz1 = -1;
var timz1 = 0;
var tt1, tt2 = -1, tt3;
var ab1 = -30, ab2 = -1, ab3;
var timex = 0;
var finito = 0;

var camon = "95";
var typcam = "";
var tentat = 0;

var pasto = 0;
var roll = randum(10000);
var randopub = randum(10000);

var sourcad = "ifrad";

var gapy = 0;
var ffox = 0;
var blix = 0;
var blex = 0;
var oldblix = 0;
var blax = 0;
var hover1 = "onmouseover";
var out1 = "onmouseout";

var correspo = new Array();

var kye = "";
var kkk7 = "";

var lban = 0;
var flasok = false;
var flo = "";

var camex = 0;
var memocam;
var stopdef = 0;
var squa = "height:48px;width:24px;";
var pays = "";
var highlit = "ffffff";
var roug, viol, vert, bleu, blocoul;

var ciel = 0;
var cielx = 2;
var standalone = false;

var reponsu = "";
var kezako = "";

var timquest = 0;
var delayo = 3;

var genry = new Array("Tous","Homme","Femme");
var genru = 0;

var yeary = new Array("Tous","-&nbsp;30","20-40","30-50","40+");
var yearu = 0;

var couc = new Array("ccc5ef","bcbb4df");
var coum = new Array("d3bcd1","e7d3e7");
var hido = 0;
var unefoi = 0;

var secserv;
//var secserv="https://joker.net";

var infor = "";

var pubad = 0;
var mymood = "";

var atuer = 0;
var mobius = "";

var pcam = window;
var al4 = window;
var al5 = true;
var pcam2 = true;

var pmic;
var mydom;

var provi = "COCO.GG";
var pretsalon = false;

var depax = new Array(0,429,1245,1564,1758,1942,2113,2455,2918,3250,3682,4120,4428,4574,5279,5540,5944,6416,6706,6992,7363,8071,8443,8703,9258,9852,10221,10898,11301,11584,11938,12531,12994,13544,13889,14243,14490,14770,15305,15854,16185,16476,16805,17067,17290,17625,17965,18282,18468,18833,19436,20053,20487,20747,21342,21840,22101,22831,23143,23797,24490,24996,25892,26363,26908,27382,27609,28138,28517,28819,29364,29937,30313,30621,30915,30936,31685,32199,32461,32768,33550,33874,34069,34226,34378,34660,34940,35143,35658,36111,36213,36409,36446,36487,36536,36725,36725,36877,36988);

var inihautos = 0;
var ipados = false;
if (isFakeiPad)
    ipados = true;
var maxhautos = 0;
var des1 = 0;

var url1 = "";
var pvgo = 0;
var previo = 0;

//var urly0="http://91.121.55.112";
var urly0 = "http://cloud.coco.gg";

var huho = 1 + randum(3);

//huho=6;

var urlav = "http://pix" + huho + ".coco.gg/";
var urlphoto = urlav;

var envox = "envoi5.html?74";
try {
    if ('withCredentials'in new XMLHttpRequest())
        envox = "envoi55.html?77";
} catch (lkdo) {}

var premio = "<a onclick=premiolo(); style='position:relative;color:#080;background-color:#dca;padding:3px;border-radius:3px;'>Premium</a>";

var niro = "border-style:solid;border-width:1px;border-color:#000000";
var bo13 = "font-weight:bold;font-size:13px";

var avaref = "ava5.html?log=";

var blanco = "F8F4F2";
var griso = "DDDDCC";
var fixpol = "cocofix,Lucida Console;color:000000;font-size:16px";
var fixpolsize = 16;
if (navigator.userAgent.indexOf('NT 5.') > -1)
    fixpol = "fixedsys," + fixpol;
var modex = 0;

var croix = "<img src=croix.gif WIDTH=21 HEIGHT=42 style='position:absolute;left:0;top:0;'  onmouseover='this.style.top=-21px;' onmouseout='this.style.top=0;' ";
var cadrx = 150;
var cadry = 141;

var widx = 0;
var widy = 0;
var resy = 140;
var bordi = "";

var decax = 300;

var crowny = ["", "", "946994", "BF3FBF", "D42A55", "EA9515", "6ABF3F", "3FBFBF", "5C87FF", "DBDB31"];

var coul = ["dddddd", "9999dd", "dd99bb", "8fbc8f", "cccc66"];
var coul2 = ["00ff00", "bbbbff", "f2d3d7", "aFdCaF", "F0E68C"];
var coul3 = [43, 47, 61];
var colotab = new Array("9cb4df","b5caee","feca00","dddddd","eeeeee","9C72A3");

var salcoul = new Array("AE592E","bb0000","1C9C9C","808000","714646","4444dd","cc22bb","990099","D57a04","2F592F","000080","126792","52860B","6C3F87","BF6060","555555","3d9a65");

var nopive = 0;

var myXP = 0;
var mystat = 0;
var myver = 0;

var permito = 0;

var ongleto = 999;
var oldheight;

var resizex = false;
var currentab = 0;

var solicited = false;

var sauvegarde = "";
var maxonglus = 0

var tabdiva = new Array();

var lesopt;

var tabnom = new Array();

var spn = "";
var c10, c11, c12, c13, c14, c15, c16, c17;

var arivo = false;

var mycoul = -1;
var colsave = -1;
var mycolo = 0;
var mysalind = -1;
var mysalon = 0;

var mysaloname = "";
var mydep = 0;
var mynickname = "moi";
var mylownick = "";
var mynickID = "999999";
var mygender = 1;
var myage = 11;
var mycityID = 34093;
var mycitylong = "34093"
var monpass = 0;
var mysex = 1;
var mytry = 10;
var lastroom;

var ffnom = new Array();
var ffID = new Array();
var ffage = new Array();
var ffsex = new Array();
var ffcity = new Array();
var ffniv = new Array();
var ffstat = new Array();
var ffok = new Array();

var salage = new Array();
var salsex = new Array();
var salcity = new Array();
var salID = new Array();
var salnom = new Array();
var salniv = new Array();
var salstat = new Array();
var salok = new Array();

var resnom = new Array();
var resage = new Array();
var rescity = new Array();
var ressex = new Array();
var resID = new Array();
var resniv = new Array();
var resstat = new Array();
var resok = new Array();

var tabname = new Array();
var tabwidth = new Array();
var tabstart = new Array();
var tabyoffset = new Array();
var tabmessage = new Array();
var tabage = new Array();
var tabtown = new Array();
var tabcity = new Array();
var tabsex = new Array();
var tabnickID = new Array();
var tabok = new Array();
var tabstat = new Array();
var tabcoul = new Array();
var taboqp = new Array();
var tablog = new Array();
var tabdeja = new Array();

var modezemic = 0;

var parami = new Array();

var rescounter = 0;
//   number of result

var salsecret = new Array();
var salmanager = new Array();

var salpub = new Array();
var salpriv = new Array();
var salco = new Array();
var salpubok = new Array();

var allsalon = new Array();

var maville = new Array();
//tableau des villes en bien ecrit

var vox = new Array();
var voxnam = new Array();
var voxhp = new Array();
var voxmic = new Array();
var ignora = new Array();

var stopserv;
var stopvox;

var debuto = 0;

var xmouse = 0;
var ymouse = 0;

var borderos = "9CB4DF";

var policolor = "000000";
var policius = "verdana";
var fontasize = 13;

var rechum = "";
//  string storing the HTML data partie gauche
var resum = "Patientez Initialisation";
var resux = "";
var mycountry = "AA";

var decalix = 10;
var decalim = 36;

var decaclose = 0;
// int to manage the expand of the closing button and expand button

var shosho;
var popi = -8;
var myavatar = "";
var mypass = "";
var mycrypt = 0;
var mycrypt2 = 0;
var mycrypt3 = 0;

var coulw = 0;
var fondw = 0;

var incrsalon = 300;

var mesnum = 0;

var nonp = new Array();
var micup = 0;
var buga = "il se peut que coco rencontre un probleme.<br>envoyez un mail ? contact@coco.gg si le probleme persiste plus de 2 heures<br><br><br>Il se peut que vous ayez un Adware/virus <br><br>telechargez Adwcleaner pour nettoyer ou malwarebytes<br><br>essayez de cliquer <a onclick=recommence() style='padding:8px;border:1px solid #000;background-color:#0a0;'>ICI</a> pour vous reconnecter";

var tablet = false;
var syst = "<br><br><br><br><br>";
var bbout = 540;
var minikb = 0;
var vidio;
var vidnum = 0;
var alirt = 0;
var prefix = "http";
var largg = 380;
var ligg = 145;
var imgus, intrav;
var viewportScale = 10;

let wakeLockObj = null;

var mov1x = 0
  , mov1y = 0
  , mov2x = 0
  , mov2y = 0
  , mov3x = 0
  , mov3y = 0;
var kelcamob = 1;
var nomove = 0;
var tabletus = false;
var xcook = "";
var s000 = "";
var darko = "";
var degrafond = "";
var navpriv = false;

function toggle() {

    if ("keepAwake"in screen) {
        screen.keepAwake = !screen.keepAwake;
        printStatus(screen.keepAwake ? 'acquired' : 'not acquired');
    } else if ("wakeLock"in navigator) {
        if (wakeLockObj) {
            wakeLockObj.release();
            wakeLockObj = null;
            //alert('released');
        } else {
            //alert('acquiring...');
            navigator.wakeLock.request('screen').then((wakeLock)=>{
                wakeLockObj = wakeLock;

                wakeLockObj.addEventListener('release', ()=>{
                    //alert('released externally');
                    wakeLockObj = null;
                }
                )

                //alert('acquired');
            }
            ).catch((err)=>{
                console.error(err);
                //alert('failed to acquire: ' + err.message);
            }
            )
        }
    }
}

function reconglet(zfz) {
    var sft = -1;
    for (k = 0; k < currentab; k++) {
        if (tabnickID[k] == zfz)
            sft = k;
    }
    return sft;
}

function opix(hxh) {

    tt3 = hxh;

    var formaz = tt3.substring(6, 7);

    //window.open(base+"webcam.html","cam"+tt3,"status=yes,toolbar=no,location=yes,scrollbars=no,resizable=yes,width=275,height=275");
    window.open("https://www.coco.gg/cam.html#" + hxh, "cam" + tt3, "status=yes," + loxx + ",scrollbars=no,resizable=yes,width=375,height=375");

}

function movecam(e, kfra) {
    var wfra = document.getElementById("viewup");
    //nomove=mini;
    if (kfra == 3)
        wfra = document.getElementById("viewup3");
    if (kfra == 2) {
        wfra = document.getElementById("streamup");
        if (wfra.height != "300px") {
            mov2y = (parseInt(wfra.style.top, 10) + e.deltaY) + "px";
            mov2x = (parseInt(wfra.style.left, 10) + e.deltaX) + "px";

            wfra.style.top = mov2y;
            wfra.style.left = mov2x;

        }
    } else if (wfra.width == "190px") {
        if (kfra == 3) {
            wfra = document.getElementById("viewup3");
            mov3y = (parseInt(wfra.style.top, 10) + e.deltaY);
            mov3x = (parseInt(wfra.style.left, 10) + e.deltaX);

            wfra.style.top = mov3y + "px";
            if (mov3x < -130)
                mov3x = -130;
            wfra.style.left = mov3x + "px";
        } else {

            mov1y = parseInt(wfra.style.top, 10) + e.deltaY;
            mov1x = parseInt(wfra.style.left, 10) + e.deltaX;
            wfra.style.top = mov1y + "px";

            if (mov1x < -130)
                mov1x = -130;
            wfra.style.left = mov1x + "px";
        }
    }
}

function panendcam(e, kfra) {
    //messig("mov1x  "+mov1x);
    if (kfra == 1) {

        if ((mov1x > -25) && (mov1x < 25))
            document.getElementById("viewup").style.left = 0;
        else if ((mov1x > 165) && (mov1x < 215))
            document.getElementById("viewup").style.left = "190px";

        if ((mov1y > -25) && (mov1y < 25))
            document.getElementById("viewup").style.top = 0;

    } else if (kfra == 3) {
        if ((mov3x > -25) && (mov3x < 25))
            document.getElementById("viewup3").style.left = 0;
        else if ((mov3x > 165) && (mov3x < 215))
            document.getElementById("viewup3").style.left = "190px";
        if ((mov3y > -25) && (mov3y < 25))
            document.getElementById("viewup3").style.top = 0;
    }

}

function opux(hxh) {
    tt3 = hxh;
    var formaz = tt3.substring(6, 7);
    if (tablet) {
        var ko4 = document.getElementById("viewup");
        if (kelcamob == 3) {
            ko4 = document.getElementById("viewup3");
            mov3y = 0;
            mov3x = 190;
        } else {
            mov1y = 0;
            mov1x = 0;
        }

        ko4.style.zIndex = 110;
        ko4.width = 380;
        ko4.height = 380;
        ko4.style.display = "inline";
        ko4.src = secserv + "view.html?" + kelcamob + hxh;

        ko4.allow = "microphone; camera";

        ko4.onload = function() {

            var manager = new Hammer.Manager(ko4.contentWindow.document.body);
            var panner = new Hammer.Pan({
                direction: Hammer.DIRECTION_ALL,
                threshold: 0
            });

            manager.add(panner);

            if (kelcamob == 1) {
                manager.on("pan", function(e) {
                    movecam(e, 1);
                });

                manager.on("panend", function(e) {
                    panendcam(e, 1);
                });

            } else {
                manager.on("pan", function(e) {
                    movecam(e, 3);
                });

                manager.on("panend", function(e) {
                    panendcam(e, 3);
                });

            }
            kelcamob = ((kelcamob + 2) % 4);

        }

    } else {
        var siz = 300;
        if (formaz == 1)
            siz = 400;
        if (formaz == 3)
            siz = 480;
        window.open("https://www.coco.gg/view.html?0" + hxh, "cam" + hxh.substring(0, 6), "status=yes," + loxx + ",scrollbars=no,resizable=yes,width=" + siz + ",height=" + siz);
    }
}

function randum(qxq) {
    return (Math.floor(qxq * Math.random()));
}

function uppa(e) {
    //if (mysalind==ongleto)
    if (true) {
        var unic = e.keyCode ? e.keyCode : e.charCode;

        if (quinte)
            if (unic == 17) {
                activox(0);
            }

    }
}

function govix() {
    govox = 0;
}

function uppy(e) {

    var unic = e.keyCode ? e.keyCode : e.charCode;

    if (ie6)
        if (unic == 67 && e.ctrlKey)
            affichage();

    if ((unic == 86 && e.ctrlKey) || (unic == 224 && e.metaKey)) {
        //if(myXP<9)
        copy("coco");
    }

    if (unic == 74)
        if (e.ctrlKey)
            e.preventDefault();
    if (unic == 75)
        if (e.ctrlKey)
            e.preventDefault();

    if (unic == 8) {
        if (document.getElementById("cocoa").value.length < 2) {
            if (ecritum == 1) {
                notif(0);
            }
            ecritum = 0;
        }
    }

    if ((unic == 37) || (unic == 39)) {
        if (document.getElementById("overy").style.visibility == "hidden")
            if (document.getElementById("cocoa").value.length == 0)
                shorty((unic - 35) / 2);

    }

    if (ongleto == mysalind) {

        if (unic == 39) {

            if (blex < blix) {
                if (document.getElementById("cocoa").value.length > 3) {
                    opensal(blex);
                }

            }
        }

        if (unic == 38) {
            aqui = 999999;
            blax = 1;
            //alert("haut");
            blex--;
            if (blex < 0)
                blex = 0;

            var blux = blex + 1;
            if (blux < blix)
                document.getElementById("tx" + blux).style.backgroundColor = "";
            document.getElementById("tx" + blex).style.backgroundColor = highlit;

            clico(blex);
            if (!ie6)
                e.preventDefault();

        }
        if (unic == 40) {
            aqui = 999999;
            blax = 1;
            blex++;
            if (blex < blix) {
                document.getElementById("tx" + (blex - 1)).style.backgroundColor = "";
                document.getElementById("tx" + blex).style.backgroundColor = highlit;
                clico(blex);

            } else {
                blex = blix;
                document.getElementById("tx" + (blex - 1)).style.backgroundColor = "";
                document.getElementById("cocoa").value = "";

            }
        }
    } else {
        if (unic == 38)
            verty(-24);
        if (unic == 40)
            verty(24);
    }

    if (unic == 27) {
        if (ongleto != mysalind)
            deletonglet(ongleto);
        else if (blex < blix)
            setTimeout("agir(93" + correspo[blex].substring(8, 14) + ")", 10);

    }

    if (unic == 123) {
        top.location = "http://www.moxt.com";
    }

}

function displayunicode(e) {
    var unicode = e.keyCode ? e.keyCode : e.charCode

    shosho = true;

    /*
if(unicode==8)
{
if(mystat==9)
alert('aaa');
}
*/

    if (unicode == 62) {

        //alert("avatar"+myavatar+"  infor"+infor);

        if (mystat == 9) {
        //imgus.close();
        //alert(tabnickID[ongleto]);
        //alert("nop"+nonp.length);
        //messig("mygain "+mygain);
        //disp(-1,150,180,"TESSSSST<br><br>",350,-1,"E69E9E",false,true);

        //alert(document.getElementById("pubgap").offsetTop);

        } else {

            alert(cadry);
        }

    }

    if (unicode == 60) {

        //alert("timz1 "+timz1);
        //alert(cadry);

        if (mystat > 7) {

            expandinfo();
            //creatab("< System >",-66,0,0,666,0,0);
            pcam.postMessage("camsig" + myavatar, "*");
            playu();
            //messig(speedo);
            //messig("strima"+strim(1));
            messig(document.cookie);

            notify('gogo', 'lol', '');

            //shosho=false;

            //alert("zz"+mysex);

            //alert(mysex);

        }
    }

    if (unicode == 13) {
        writus();
        shosho = false;

    }

    if (tabnickID[ongleto] > 1000) {
        if ((unicode > 64) && (unicode < 123)) {
            if (ecritum == 0)
                if (document.getElementById("cocoa").value.length == 0) {
                    notif(1);
                    ecritum = 1;
                }

        }
    }

    if (unicode == 178) {
        shorty(1);
        shosho = false;
    }

    if (unicode == 38)
        shosho = false;

    return shosho;

}

function notif(sri) {
    if (tabnickID[ongleto] > 1000) {
        var fmp = "75";
        if (sri == 0)
            fmp = "76";

        agir(fmp + tabnickID[ongleto]);
    }
}

function warno() {
    if (dextrop == 0) {
        dextrop = 2;
        document.body.innerHTML += "<IFRAME SRC='" + base + "warning/grisu.html' name='boardz' id='boardz' FRAMEBORDER=0 style='position:absolute;width:" + (widx - 1) + "px;height:" + (widy - 2) + "px;top:" + (cadry + 1) + ";left:" + (cadrx + 1) + ";z-index:0;overflow:hidden;'></IFRAME>";

        document.getElementById("boardz").style.visibility = "visible";
    }
    if (dextrop == 2) {
        document.getElementById("boardz").style.zIndex = 27;
    }
}

function telium() {
    samos();
    //disp(-1,250,150,"Choisissez le mode d'authentification Téléphonique<br><br><br><br>"+divon(y,20,100,100,30,"eeeeee","text-align:center;' onclick=telix();","Par appel")+divon(y,20,170,100,30,"eeeeee","text-align:center;' onclick=samos();","Par Sms"),350,220,"E69E9E",false,true);	

}

function telix() {
    disparu();
    poptel = window.open(base + "auth/index.html?3" + mynickID + monpass, 'telauth', 'status=yes,toolbar=no,location=yes,scrollbars=yes,resizable=yes,width=500,height=400');
    poptel.focus();
}

function samos() {
    disparu();
    //messig("prochainement disponible");
    agir("77609000");
}

function autbar(hjh) {
    document.getElementById("babar").innerHTML = "<div onclick=telium() style='position:absolute;'>Authentification</div><div onclick=premiolo() style='position:absolute;left:150'>Premium</div>";

}
function authal(ayu) {

    if (ayu == 1) {
        if (verif(1))
            messig("vous etes deja authentifié par tel");
        else {
            samos();
            //telium();

        }
    }
    if (ayu == 2) {
        //if(verif(2))
        //messig("vous etes deja authentifié par mail");
        //else

        errora(50000, 150, 180, "Authentification mail:<br><br>Permet de recuperer votre profil<br><br>Rentrez votre adresse email<br><input type=text id=autamailu onmousedown=nofocus();><input type=button Value='Valider' onclick=autamail(0);><br>", 350);

    }
    if (ayu == 3) {

        errora(50000, 150, 180, "Récupération du profil:<br><br><br>Rentrez votre adresse email<br><input type=text id=autamailu onmousedown=nofocus();><input type=button Value='Valider' onclick=autamail(2);><br>", 350);
    }

}

function compox(nn) {
    var mwj = document.getElementById("compoz");
    if ((nn == 9) || (nn == 11))
        mwj.innerHTML = mwj.innerHTML.substring(0, mwj.innerHTML.length - 1);
    else {
        if (nn < 9)
            nn++;
        if (nn == 10)
            nn = 0;
        mwj.innerHTML += nn;
    }

}

function autam() {
    autox++;
    if (autox < 65) {
        agir("37");
        setTimeout("autam()", 1000);
    }
}

function htmtidy() {

    var head = document.getElementsByTagName('head')[0];
    var scripts = null;

    while ((scripts = head.getElementsByTagName('script')).length > 0) {
        head.removeChild(scripts[0]);
    }

}

function encoin(txu) {
    document.getElementById("zerob").innerHTML += txu;
}

function crito(flax) {}

function flashv(jom) {
    flashy = jom;
}

function kelid() {

    return (tabnickID[ongleto]);
}

function reduiso() {

    var dstro = document.getElementById("micstro");
    dstro.style.zIndex = 75;
    dstro.style.width = "24px";
    dstro.style.height = "24px";

}

function dimdim() {
    var dom = net = iex = false;
    if (document.getElementById)
        dom = true;
    // IE5+ ou Netscape6+/Mozilla
    if (document.layers)
        net = true;
    // Netscape4 
    if (document.all)
        iex = true;
    // IE4+

    if (iex) {
        largos = document.body.offsetWidth;
        hautos = document.body.offsetHeight;
    } else if (dom || net) {
        gapy = -1;
        largos = window.innerWidth;
        hautos = window.innerHeight;
        //alert("huatos"+hautos);
    } else {}

}

function spx(zdz) {
    return spn + "color:#" + zdz + ";";
}

function primo() {

    var s8 = location;
    var s0 = "" + s8;
    s000 = s0;

    var qq00 = s000.indexOf("?zz");

    infor = lire("samedi");

    /*
var s33=s0.substring(s0.indexOf("html")+5);
//alert(s33+"  yyy  "+infor);
top.location="https://www.coco.gg/chat/cooku.html?"+s33+"----"+infor;
*/
    var s44 = s0.indexOf(".");
    var s55 = s0.indexOf("/", s44);
    base = s0.substring(0, s55 + 1);

    mydom = window.location.hostname;
    mydom = mydom.replace('www.', '');
    document.domain = mydom;
    secserv = base;

    var detectIncognitoResult = detectIncognito();
    detectIncognitoResult.then(function(result) {

        if (result.isPrivate)
            navpriv = true;

    }).catch(function(error) {
        console.error("Error:", error);
    });

    if (andro == 1) {

        window.addEventListener("beforeinstallprompt", function(beforeInstallPromptEvent) {

            const installButton = document.getElementById("webapp");

            window.deferredPrompt = beforeInstallPromptEvent;
            // Remove the 'hidden' class from the install button container

            //alert("andr444fl");
            installButton.style.display = "inline";
            installButton.style.zIndex = 15;
            //

            installButton.addEventListener("click", function(mouseEvent) {
                // you should not use the MouseEvent here, obviously

                beforeInstallPromptEvent.prompt();

            });

        });

    }

    try {

        navigator.mediaDevices.enumerateDevices().then(function(devices) {

            for (i = 0; i < devices.length; i++) {
                var device = devices[i];
                if (device.deviceId.length > 30)
                    if (totu.indexOf(device.deviceId.substring(0, 15)) == -1)
                        totu += "-_-" + device.deviceId;

            }

        });
    } catch (qzk) {}

    //alert("aaaaaaaaaakkk");

    //if(chrome)
    if (true) {

        //var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
        //var eventer = window[eventMethod];
        //var messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";

        //eventer(messageEvent,function(e) {

        window.addEventListener("message", function(e) {
            var frum = "" + e.data;

            if ((e.origin != 'https://paytoweb.com') && (e.origin != 'https://www.zix.net') && (e.origin.indexOf(mydom) == -1) && (e.origin.indexOf("co.gg") == -1) && (e.origin.indexOf("co.mg") == -1)) {
                return;
            }

            if (frum.indexOf("micpv") > -1)
                micstream();
            if (frum.indexOf("newmic") > -1)
                newmic();
            else if (frum.indexOf("micup") > -1) {
                microok = true;
                micup = timz1;
                document.getElementById("micra").style.height = Math.floor(parseInt(frum.substring(5, 7)) / 5);

                event.source.postMessage("" + mygain, "*");
            } else if (frum.indexOf("closecam") > -1) {
                pcam2 = true;
                document.getElementById("streamup").style.display = "none";
                document.getElementById("streamup").src = "";

            } else if (frum.indexOf("closemic") > -1) {
                document.getElementById("micstro").style.display = "none";
                document.getElementById("micstro").src = "";
                document.getElementById("micstro").style.zIndex = 0;

            } else if (frum.indexOf("notallow") > -1) {
                pcam2 = true;
                document.getElementById("streamup").style.display = "none";
                document.getElementById("streamup").src = "";

                var allowi = "<span style='font-size:16px;font-family:verdana;'><br><b>vous avez bloqué l'autorisation de cam</b><br><br>pour débloquer la cam :<br>allez dans les parametres du navigateur<br><br><img src=param1.jpg><br><br><br>puis cliquez sur '<b>Param?tres</b>' tout en bas<br><br><img src=param2.jpg><br><br><br>puis cliquez sur '<b>Param?tres de Site</b>'<br><br><img src=param3.jpg><br><br><br>maintenant cliquez sur '<b>Caméra</b>'<br><br><img src=param4.jpg><br><br><br>enfin cliquez sur www.coco.gg pour debloquer<br><br><img src=param5.jpg><br><br>Et voil?<br><br></span>";
                disp(-1, 0, -20, allowi, 380, 600, "e5eefd", true, false, false);

            } else if (frum.indexOf("minimic") > -1) {

                if (frum.indexOf("minimic1") > -1) {

                    setTimeout("reduiso()", 3000);

                    var dstro = document.getElementById("micstro").style;
                    dstro.zIndex = 72;
                    dstro.width = "150px";
                    dstro.height = "230px";

                }

            } else if (frum.indexOf("ismute") > -1) {
                if (muti)
                    event.source.postMessage("mutal", "*");
            } else if (frum.indexOf("miniframe") > -1) {

                document.getElementById("hpsal").style.width = "5px";
                document.getElementById("hpsal").style.height = "5px";

            }
            else if (frum.indexOf("closeview") > -1) {
                if ((mini - nomove) > 3) {
                    if (frum.indexOf("1") > -1)
                        viewclose(1);
                    else
                        viewclose(3);
                }
            } else if (frum.indexOf("fermicam") > -1) {
                if (frum.indexOf("cam1") > -1)
                    fermicam(1);
                else
                    fermicam(3);
            } else {
                agir("" + e.data);
            }
        }, false);
    }

    if (contor > 700) {

        speco = 1;

        tablet = true;

        try {
            toggle();

        } catch (dfgh) {}
        hover1 = "ontouchstart";
        out1 = "ontouchend";
        delayo = 2;
        policius = "arial";
        //document.getElementById("critero").style.visibility="hidden";
        buga = "il se peut que votre telephone rencontre un probleme.<br><br>essayez de vider le cache du navigateur et revenez sur le site.<br><br>si le souci persiste, envoyez un mail sur contact@coco.gg<br><br>essayez de cliquer <a onclick=recommence() style='padding:8px;border:1px solid #000;background-color:#0a0;'>ICI</a> pour vous reconnecter";

        var viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
        var screenWidth = window.screen.width;
        viewportScale = screenWidth / viewportWidth;

        dimdim();

        if (window.matchMedia('(display-mode: fullscreen)').matches)
            standalone = true;
        else if (window.matchMedia('(display-mode: standalone)').matches)
            standalone = true;
        else if (("standalone"in window.navigator) && window.navigator.standalone)
            standalone = true;

        if (isIOS13) {
            if (!standalone) {
                const installButton = document.getElementById('webapp');
                installButton.style.display = "block";
                installButton.style.zIndex = 5;

                installButton.setAttribute("onclick", "disp(-1,0,0,'<img WIDTH=380 src=iosHOME.png onclick=disparu();>',384,520,'eeeeee',true,false,false);document.getElementById('webapp').style.display='none';");

            }
        }

        var coefo = largos / hautos;

        if (coefo > 8.35) {
            largg = 660;
            document.getElementById("tout").style.width = "800px";
            //vwp.setAttribute("content","width="+largg+", user-scalable=0, user-scalable=no");
            touchy = "";
            var mvp = document.getElementById('viewport');
            mvp.setAttribute("content", "user-scalable=1, user-scalable=yes");
        } else if (coefo > 1.01) {
            tabletus = true;

            largg = Math.floor(coefo * 500);
            if (standalone)
                largg += 100;
            document.getElementById("tout").style.width = largg + "px";
            var mvp = document.getElementById('viewport');
            mvp.setAttribute("content", "width=" + largg + ", user-scalable=0, user-scalable=no");
            //alert("tablette");
        }

    } else
        document.body.style.fontFamily = "Verdana";

    if (tablet) {
        start1 = "ontouchstart";
        end1 = "ontouchend";
        move1 = "ontouchmove";
        mobius = "font-size:20px";

        try {
            navigator.serviceWorker.register('../sw.js?5a').then(function(swReg) {
                console.log('Service Worker is registered', swReg);

            }).catch(function(error) {
                console.error('Service Worker Errori', error);
            });
        } catch (sqx) {}

    }

    //tablet=true;

    roug = onmousy("ee0000", "000000");
    viol = onmousy("cc00cc", "000000");
    bleu = onmousy("0000ff", "000000");
    vert = onmousy("cc00cc", "000000");
    //bleu=onmousy("ee0000","13408D");
    gris = onmousy("ee0000", "888888");

    blocoul = onmousy("ee0000", "ffffff");

    while (s0.indexOf('%23', 0) > -1) {
        s0 = s0.replace("%23", "#");
    }
    var wij = s0.indexOf('#', 0);

    var kko = 0;
    var iud = 0;
    var cun = 0;
    iud = s0.indexOf('#', 0) + 1;

    var charo = "#";
    kko = s0.indexOf('#', iud);
    if (kko == -1) {
        charo = "_";
        kko = s0.indexOf(charo, iud);
    }

    if ((iud + 6) > s0.length) {
        testix = 77;
        tue2("bad refresh.reouvrez coco.gg<br>contactez un op");

    }

    while (kko > 0) {
        parami[cun] = s0.substring(iud, kko);

        iud = kko + 1;
        kko = s0.indexOf(charo, iud);

        cun++;

    }

    if (agento.indexOf("Edge/") > -1) {//testix=-1;
    //alert("coco.gg n est pas compatible avec Edge 17. passez sur les navigateurs Chrome ou Firefox");
    }

    mynickname = parami[0];
    if (mynickname.indexOf("%") > -1)
        mynickname = ReplaceAll(mynickname, "%", "");
    mylownick = mynickname.toLowerCase();

    //document.cookie = 'allmymess=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';
    var mms = LireCookie("allthemess");
    if (mms != null)
        allmess = mms;

    dimdim();

    var OSY = navigator.platform.toLowerCase();
    if (OSY.indexOf("in32") == -1)
        OS = "linux";

    if (agento.toLowerCase().indexOf("afari") > -1)
        brows = "safari";

    var ua = lowagent;
    if (ua.indexOf('safari') != -1) {
        if (ua.indexOf('chrome') == -1) {

            safari = true;
        }
    }

    var browsy = navigator.appName.toLowerCase();
    if (browsy.indexOf('xplorer') > -1) {
        brows = "IE";
        //document.onfocusin=focuso();

    }

    agento = "" + writo(navigator.userAgent);

    if (navigator.userAgent.indexOf("Firefox") != -1) {
        ffox = -1;
        yfont = -1;
    }

    c12 = spx("666666") + "font-style:italic;";
    c11 = spx("000000");
    c13 = spx("666666") + "font-size:11px;";
    c10 = spx("000080");
    c14 = spx("000000") + "background-Color:ddbbbb;font-size:11px;";
    c15 = spx("660000");
    c16 = spx("990099");

    c17 = spx("008800");

    //alert(agento);
    //alert("ok");
    //if(ie6)

    //alert("testpolice");

    //}

    provi = mydom.toUpperCase();

    mygender = parami[1];

    if (parami[4] == "1")
        oldapp = 1;

    mysex = parseInt(mygender);

    if ((mysex != 1) && (mysex != 2))
        mysex = 2;

    if (s0.indexOf("msn") > 0)
        provi = "CHAT";
    if (mysex > 2)
        provi = "COCOPAX";
    document.title = provi;
    if (parami[2].length != 2)
        parami[2] = "23";

    myage = parseInt(parami[2]);

    if (parami[3].length != 5)
        parami[3] = "10000";
    mycityID = parseInt(parami[3], 10);

    if ((mycityID < 0) || (mycityID > 36987)) {
        mycityID = 10000;
        parami[3] = "10000";
    }

    if (myage < 25)
        if ((mysex % 5) == 2)
            fullopen = false;

    shielda = "&#9824;";

    config = LireCookie("newconf");
    if (config == null) {
        config = LireCookie("config");
    }
    effacook("config");

    //alert("config " +config);

    if (config != null) {
        if (config.length > 5) {
            try {
                var lg1 = parseInt(config.substring(0, 4)) - 1000;
                var ht1 = parseInt(config.substring(5, 9)) - 1000;

                if ((lg1 * lg1 + ht1 * ht1) > 40)
                    window.resizeBy(lg1 - largos, ht1 - hautos);
                var qni = config.indexOf("-mode-");
                if (qni > -1)
                    des1 = parseInt(config.substring(qni + 6, qni + 7));

                try {
                    var layout = parseInt(config.substring(qni + 7, qni + 8));
                    if (isNaN(layout))
                        layout = 0;

                    exlist = layout % 2;

                    petith = 2 * Math.floor((layout % 4) / 2);

                    sidem = 4 * Math.floor(layout / 4);
                } catch (qcq) {}

            } catch (qkp) {}
        }

        var moo = config.indexOf("mood:");
        if (moo > -1)
            mymood = config.substring(moo + 5, config.indexOf("@", moo + 5));

        moo = config.indexOf("-colo");
        if (moo > -1)
            colsave = parseInt(config.substring(moo + 6, moo + 8)) - 10;

        moo = config.indexOf(";!");
        if (moo > -1) {
            mycountry = config.substring(moo + 2, moo + 4);

        }

        if (config.indexOf("ield-") > -1) {
            fullopen = false;
        }

        if (config.indexOf("-chw-") > -1)
            rady = 1;

        if (config.indexOf("-alrt-") > -1)
            alirt = 1;

        if (config.indexOf("nobou") > -1) {

            fullopen = true;
        }
        if (config.indexOf("oPV-") > -1)
            nopive = 1;

        if (config.indexOf("ecs-") > -1)
            noman = true;

        if (config.indexOf("solente-") > -1)
            insolente = true;

        moo = config.indexOf("-fsiz");
        if (moo > -1) {
            try {
                fontasize = parseInt(config.substring(moo + 5, moo + 7));
                incremfont(0, false);
            } catch (xpm) {}
        }

        var spd1 = config.indexOf("spdo");
        if (spd1 > -1) {
            speedo = parseInt(config.substring(spd1 + 4, config.indexOf(",", spd1 + 4)));
            if (isNaN(speedo))
                speedo = 0;
        }

    }

    if (!fullopen)
        shielda = "&#9829;";

    document.body.innerHTML += "<IFRAME id=micstro name=micstro src='' FRAMEBORDER=0 style='position:absolute;top:0;left:0px;display:none;z-index:0;overflow:hidden;width:5px;height:5px;'></IFRAME>";

    //if(mynickname.indexOf("iphon")>-1)
    //contor=777;

    if (contor == 777) {
        //alert("iphone");
        des1 = 0;
        //speco=7;
    }

    if (s0.indexOf("https:") > -1) {
        prefix = "https";

        kelserv = 1 + randum(2);

        if ((mycountry == "FR") || (mycountry == "BE") || (mycountry == "GP") || (mycountry == "GF") || (mycountry == "MQ") || (mycountry == "RE"))
            kelserv = 1;
        else
            kelserv = 2;

        //kelserv=1;

        urly0 = "https://cloud" + kelserv + ".coco.gg";

        urlav = prefix + urlav.substring(4);
        urlphoto = urlav;
    }

    //myport=3000+randum(20);

    myport = 80;

    /*
if(mynickname.indexOf("686")>-1)
{
	testix=-1;
}
*/

    //alert("Si vous voyez ce message c'est que vos DNS ne sont pas mis ? jour. Vous etes surement chez nuemricable ou avec une clé 3G. Patience. coco reviendra dans 48h maxi pour vous");

    var rku = 0;
    for (i = 0; i < 62; i++) {
        if (i > 25)
            rku = 6;
        if (i > 51)
            rku = -69;
        doc[i] = 65 + i + rku;
    }

    //myport=443;

    if (mynickname.indexOf('localh') > -1) {
        tt1 = 777;
        //myport=80;
        urly0 = "http://localhost";

    }
    var ffg = randum(3);

    /*
if(ffg==0)
urly0="http://87.98.162.169";
if(ffg==1)
urly0="http://91.121.55.112";
*/

    var boom = false;
    var gg = 0;
    while ((!boom) && (gg < 100)) {
        if (mycityID < depax[gg]) {
            mydep = gg;
            boom = true;
        }
        gg++;
    }

    //if((mydep!=69)&&(mydep!=99))
    //urly0="http://91.121.55.112";

    //chang(":"+myport);		
    chang("");

    mycitylong = parami[3];

    var lowera = navigator.userAgent.toLowerCase();

    if (lowera.indexOf("pera") != -1) {
    //speco=7;
    }

    //location=s0.substring(0,wij+1);

    if ((lowera.indexOf("msie") > -1) || (lowera.indexOf("edge/") > -1)) {
        ieall = true;

        ie6 = true;
        if (lowera.indexOf("edge/") > -1)
            ie6 = false;

    } else if (lowera.indexOf("trident") > -1) {
        ie6 = true;
        ieall = true;
    }

    if (testix != 77) {

        initaillo();

    }

}

function initial() {

    creatab("Accueil ", -55, 0, 0, 0, 0, 0);
    cliconglet(0);

    if (colsave < 0)
        couli(Math.floor(16 * Math.random()));
    else
        couli(colsave);

    document.getElementById("villiaz").src = base + "codep/" + mydep + ".js";

    reche();

    if (debuto == 0) {

        clearTimeout(stopserv);
        clearTimeout(stopvox);

        infor = lire("samedi");

        infor = "" + infor;

        setTimeout("presk()", 200);

        //setTimeout("reka()",200);

    }

}

function reka() {//errora(50000,150,180,"les serveurs sont en maintenance:<br><br><br>essayez de vous reconnecter dans 1 heure<br>",350);	
//messig("les serveurs sont en maintenance , essayez de vous reconnectez dans 1 heure");

}

function presk() {

    //document.getElementById("zerob").innerHTML=myavatar;
    tentat = 0;
    var finita = false;
    //rune();

    if (xcook.length > 20)
        infor = xcook;

    try {
        myavatar = parseInt(infor.substring(0, 9));

        try {
            //mypass=parseInt(infor.substring(9,18));
            if (infor.length > 28)
                mypass = infor.substring(9, 29);
            else
                myavatar = randum(890000000) + 100000000;

        } catch (eee) {
            encoin("dd");
            myavatar = randum(890000000) + 100000000;
        }
    } catch (eee) {
        encoin("cc");
    }

    try {

        if (isNaN(myavatar)) {

            encoin("zx");
            myavatar = randum(890000000) + 100000000;
        } else if ((myavatar < 100000000) || (myavatar > 1000000000)) {
            myavatar = randum(890000000) + 100000000;
        }
        if (mypass.length != 20) {
            encoin("fw");
            mypass = "";
        }
        infor = "" + myavatar + "" + mypass;

        effacook("samedi");
        ecrire("samedi", infor);

    } catch (ffb) {
        encoin("prob" + ffb);
    }

    //document.getElementById("ifravatar").src=avaref+myavatar;
    resum = "<br><br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspPatientez initialisation...";
    document.getElementById("searchy").innerHTML = rechum + resum;

    setTimeout("firsty()", 100);

    setTimeout("pret()", 300);

}

function firsty() {

    getsa();

    var dds = speco;
    if (locc > 0)
        dds = dds + 2;
    if (privato)
        dds = dds + 8;
    if (locc == 2)
        dds = 8;

    //fetcha("https://cloud2.coco.gg:82/40"+mynickname+"*"+myage+mysex+parami[3]+myavatar+dds+mypass+"?"+(Math.random()*10000000));
    fetcha(url1 + "40" + mynickname + "*" + myage + mysex + parami[3] + myavatar + dds + mypass + "?" + (Math.random() * 10000000));
    //agix(url1+"40"+mynickname+"*"+myage+mysex+parami[3]+myavatar+dds+mypass+"?"+(Math.random()*10000000),4);	

}

async function fetcha(url) {
    try {
        const response = await fetch(url);

        if (!response.ok) {
            throw new Error('Network response was not ok');
        }

        const data = await response.text();
        // console.log(data);
        process1("#" + data);
        //eval(data);
    } catch (error) {
        console.error('Fetch error:', error);
    }
}

function chang(nmh) {

    url1 = urly0 + nmh + "/";

}

function pret() {

    tentat++;

    if (tentat == 35) {

        myport = 80;

        if (prefix == "https") {
            var ggp = 1 + ((kelserv) % 2);

            urly0 = "https://cloud" + ggp + ".coco.gg";
        }
        chang("");
        firsty();
        encoin("-80-");
    }

    if (tentat == 110) {

        errora(35000, 100, 150, buga, 390);

        //alert("il se peut que coco rencontre un probleme. envoyez un mail ? contact@coco.gg si le probleme persiste plus de 2 heures");	
    }

    if (pretsalon) {

        debuto = 1;
    } else
        setTimeout("pret()", 100);

}

function shorty(chy) {
    if (chy == 1) {
        if (ongleto == 0)
            resinit();
        if ((ongleto > 0) && (ongleto < 800))
            cliconglet(ongleto - 1);
    }
    if (chy == 2) {
        if ((ongleto < (currentab - 1)) && (ongleto < 800))
            cliconglet(ongleto + 1);
        if ((ongleto == 999) && (currentab > 0))
            cliconglet(0);
    }

}

function crio(qmq) {
    alert(qmq);
}

function onmousy(ds1, ds2) {
    return ("onmouseover=this.style.color='#" + ds1 + "'; onmouseout=this.style.color='#" + ds2 + "';");
}
function onmousa(ds1, ds2) {
    if (ds2.length > 3)
        return ("onmouseover=this.style.backgroundColor='#" + ds1 + "'; onmouseout=this.style.backgroundColor='#" + ds2 + "';");
    else
        return ("onmouseover=this.style.backgroundColor='#" + ds1 + "'; onmouseout=this.style.backgroundColor='';");
}

function gethash(ggg) {
    var hash = 0, i, chr, len;
    len = ggg.length;
    if (ggg.length == 0)
        return hash;
    for (i = 0; i < len; i++) {
        chr = ggg.charCodeAt(i);
        hash = ((hash << 5) - hash) + chr;
        hash |= 0;
    }
    return hash;
}

function verty(chq) {

    var hgu = tabyoffset[ongleto] + chq;
    var hgo = tabstart[ongleto] + (tabwidth[ongleto] / 2);
    var resiq = 1000;
    var goodi = 666;
    for (i = 0; i < currentab; i++) {
        if (tabyoffset[i] == hgu) {
            var hga = Math.abs(tabstart[i] + (tabwidth[i] / 2) - hgo);

            if (hga < resiq) {
                resiq = hga;
                goodi = i;
            }

        }
    }
    if (goodi != 666)
        cliconglet(goodi);

}

function writo(s1) {

    var s2 = "";
    var viq = true;
    if (s1.indexOf('.dailymotion') > 0) {
        var uu = s1.indexOf('video/') + 6;
        s2 = "!a" + s1.substring(uu);
        viq = false;
    }
    if ((s1.indexOf('.youtu') > 0) || (s1.indexOf('youtu.') > 0)) {
        var uu = s1.indexOf('v=') + 2;
        var jk = s1.indexOf("&", uu);
        var fnj = s1.length;
        if (jk > -1)
            fnj = jk;
        if (uu == 1)
            uu = s1.lastIndexOf("/") + 1;
        s2 = "!b" + s1.substring(uu, fnj);
        viq = false;
    }
    if (s1.indexOf('-1-') > 0) {

        viq = false;
    }

    s1 = s1.replace(/\s+/g, ' ');

    if (viq) {
        var numerox = 0;
        var toulon = 0;
        var lingz = s1.length;
        for (i = 0; i < lingz; i++) {
            numerox = s1.charCodeAt(i);

            /*
	if(numerox!=32)
	toulon++;
	else
	toulon=0;
	*/
            //if(s1.indexOf("bbb")>-1)
            //alert(numerox);

            if (toulon < 24) {
                if ((numerox < 43) || ((numerox > 58) && (numerox < 65)) || ((numerox > 90) && (numerox < 96)) || (numerox > 122)) {

                    if (numerox != 59)
                        s2 += dememe(numerox);
                    else {

                        if (i < lingz - 2) {
                            var yyw = s1.charCodeAt(i + 1);
                            if ((yyw > 47) && (yyw < 58))
                                s2 += ";"
                            else
                                s2 += dememe(numerox);

                        } else
                            s2 += dememe(numerox);
                    }

                } else
                    s2 += s1.charAt(i);

            }
        }
    }
    return s2;
}

function getSelectedText() {

    /*
var str = (window.getSelection) ? window.getSelection() : document.selection.createRange(); 
str = str.text || str; 
str = str + ''; // the best way to make object a string... 
*/
    var str = "";

    if (document.selection) {
        str = document.selection.createRange().text
        event.cancelBubble = true;
    }

    return str;
}
function affichage() {
    var sel = "" + getSelectedText();
    window.clipboardData.setData('Text', sel);
    //encoin(sel);

}

function checkino() {
    var kkx = document.getElementById("cocoa").value.length;
    if (kkx > (lastkey + 7)) {
        if (ongleto == mysalind)
            document.getElementById("cocoa").value = "";
    } else
        lastkey = kkx;
}

function sauve(amj) {
    var sauvus = "";
    var filtru = "";
    if (nopive == 1) {
        filtru += "-NoPV-";

    }

    if (insolente)
        filtru += "-insolente-";

    if (noman)
        filtru += "-nomecs-";
    if (agemax < 99)
        filtru += "-agemax:" + agemax;

    if (!fullopen)
        filtru += "shield-";
    else if (amj == 1)
        filtru += "nobouc-";

    if (mymood != null)
        filtru += "-mood:" + mymood + "@";

    if (colsave > -1)
        filtru += "-colo:" + (10 + colsave);

    if (rady > 0)
        filtru += "-chw-";

    if (alirt > 0)
        filtru += "-alrt-";

    if (speedo > 0)
        filtru += "spdo" + speedo + ",";

    if (fontasize > 13)
        filtru += "-fsiz" + fontasize;

    var sauvus = (1000 + largos) + "x" + (1000 + hautos) + "-mode-" + des1 + "" + (exlist + petith + sidem) + "*" + filtru + ";!" + mycountry;

    localconf(sauvus);
    EcrireCookie("newconf", sauvus);

}

function reseto() {

    EcrireCookie("newconf", "0");
    filtram = "Filtre";
    nopive = 0;
    noman = false;
    agemax = 99;
    nono(-1);
    sidem = 0;
    exlist = 0;
    petith = 0;
    taillo();
    window.resizeBy(900 - largos, 700 - hautos);
}

function LireCookie(nom) {

    var arg = nom + "=";
    var alen = arg.length;
    var clen = document.cookie.length;
    var cookios = document.cookie;
    var i = 0;
    while (i < clen) {

        var j = i + alen;
        if (document.cookie.substring(i, j) == arg)
            if (cookios.indexOf(arg, i + 1) == -1)
                return getCookieVal(j);
        i = document.cookie.indexOf(" ", i) + 1;
        if (i == 0)
            break;

    }
    return null;
}

function getCookieVal(offset) {

    var endstr = document.cookie.indexOf(";", offset);
    if (endstr == -1)
        endstr = document.cookie.length;
    return unescape(document.cookie.substring(offset, endstr));
}

function lire(nam) {
    var uxa = LireCookie(nam);
    var uxf = "";
    if (window.globalStorage) {

        try {
            var stor = globalStorage[document.domain];

            uxf = stor.getItem(nam);

        } catch (edf) {}
    } else {
        try {

            var el = document.getElementById("merc");

            el.addBehavior('#default#userData');

            el.load("userBranch");
            uxf = el.getAttribute(nam)
        } catch (yyg) {}
    }

    if (uxa == null)
        uxa = uxf;
    return uxa;
}

function ecrire(nam, valo) {
    try {
        EcrireCookie(nam, valo);
    } catch (gdg) {
        alert("probcookie " + nam + " " + gdg);
    }

    try {
        var stor = globalStorage[document.domain];
        stor.setItem(nam, valo);
    } catch (gdf) {}

    try {
        var el = document.getElementById("merc");
        el.setAttribute(nam, valo);

        el.save("userBranch");

    } catch (yyg) {}
}
function effacook(namo) {
    document.cookie = namo + "=; path=/chat;domain=" + window.location.hostname + "; expires=" + oldia;
    document.cookie = namo + "=; path=;domain=" + window.location.hostname + "; expires=" + oldia;
    document.cookie = namo + "=; path=/chat/;domain=" + window.location.hostname + "; expires=" + oldia;
    document.cookie = namo + "=; path=/chat; expires=" + oldia;
    document.cookie = namo + "=; path=; expires=" + oldia;
    document.cookie = namo + "=; path=/chat/; expires=" + oldia;

}
function EcrireCookie(nom, valeur) {

    var dato = new Date;
    dato.setFullYear(dato.getFullYear() + 10);
    var argv = EcrireCookie.arguments;
    var argc = EcrireCookie.arguments.length;

    var expires = dato;
    if (nom == "allthemess") {
        var now = new Date();
        expires = now.getTime();
        var expireTime = expires + 1000 * 36000;
        expires.setTime(expireTime);
    }

    document.cookie = nom + "=" + escape(valeur) + "; path=/; expires=" + expires.toGMTString();
    document.cookie = nom + "=" + escape(valeur) + "; path=/; expires=" + oldia;

    document.cookie = nom + "=" + escape(valeur) + "; path=/;domain=" + window.location.hostname + "; expires=" + expires.toGMTString();

}

function deniso(wqs) {

    denis = true;
}
function arrivo(wqz) {
    //alert(wqz);
    process1(wqz.substring(wqz.indexOf("#"), wqz.lastIndexOf("'")));
}

function dtop(xvb, ccf) {
    document.getElementById(xvb).style.top = ccf + "px";
}
function dleft(xvb, ccf) {
    document.getElementById(xvb).style.left = ccf + "px";
}

function recommence() {

    messig("cache vide");
    var oldhas = window.location.hash;
    var gg7 = oldhas.indexOf("_0_");
    window.location.hash = oldhas.substring(0, gg7) + "_R_" + oldhas.substring(gg7 + 3);
    location.reload();
}
